<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Remote Display</title>

  <style>
    body {
      margin: 0;
      height: 100vh;
      font-family: system-ui, sans-serif;
      color: white;
      background-image: url("./background.jpg"); /* or set by JS from Sheets */
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5); /* ✅ darken/lighen here */
      z-index: 0;
    }

    .content {
      position: relative;
      z-index: 1;
      padding: 6vh 6vw;
      text-shadow: 0 2px 8px rgba(0,0,0,0.8);
    }

    .content-panel {
      display: inline-block;
      padding: 4vh 4vw;
      background: rgba(0, 0, 0, 0.55); /* ✅ panel darkness here */
      border-radius: 20px;
      max-width: 90vw;
    }
  </style>
</head>

<body id="pageBody">
  <div class="overlay"></div>
  
<div class="content">
  <div id="headline" style="font-size:48px;font-weight:700;"></div>
  <div id="subhead" style="font-size:28px;margin-top:10px;"></div>
  <div id="status" style="font-size:24px;margin-top:18px;color:crimson;"></div>
</div> 
  
<script>
  const API_URL = "https://script.google.com/macros/s/AKfycbxPQCmFSUG_9W2N62hqo7tPI6M_T9GCFD2FveCnA8uOYZ0lHLmSNMQDIufXP03vmybZfg/exec";

  async function refreshDisplay() {
    try {
      const res = await fetch(API_URL, { cache: "no-store" });
      const data = await res.json();

      document.getElementById("headline").textContent = data.headline || "";
      document.getElementById("subhead").textContent  = data.subhead  || "";
      document.getElementById("status").textContent   = data.status   || "";
 
      
  // ✅ Background from sheet
        if (data.bgUrl) {
          document.getElementById("pageBody").style.backgroundImage = `url('${data.bgUrl}')`;
          document.getElementById("pageBody").style.backgroundSize = "cover";
          document.getElementById("pageBody").style.backgroundPosition = "center";
          document.getElementById("pageBody").style.backgroundRepeat = "no-repeat";
        }

    } catch (err) {
      console.error("Display refresh failed", err);
    }
  }

  refreshDisplay();                 // load immediately
  setInterval(refreshDisplay, 5000); // then every 5 sec
</script>
</body>
</html>
